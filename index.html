<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Demo Àudio i Vídeo</title>
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <audio id="player">
        <source src="media/techbg.mp3" type="audio/mp3">
        Ho sento, el teu navegador no suporta àudio d'HTML5.
    </audio>
    <div class="fonsPlayer">
        <div class="ocean">
            <div class="wave"></div>
            <div class="wave"></div>
        </div>
    </div>
    <div class="controlButtons">
        <button type="button" onclick="toggleAudio()">
            <span class="material-symbols-outlined" id="playButton">
                play_arrow
            </span>
        </button>
    </div>

    <!-- SVG per al control de reproducció -->
    <svg width="50" height="50" onclick="toggleAudio()">
        <rect x="12.5" y="12.5" width="25" height="25" style="fill:gray;stroke-width:1;stroke:rgb(0,0,0)" />
        <polygon points="25,20 30,30 20,30"
            style="fill:lime;stroke:purple;stroke-width:1; transform: rotate(90deg); transform-origin: 50% 50%;" />
    </svg>

    <!-- Control de volum SVG -->
    <svg width="200" height="50" style="cursor: pointer;" onclick="changeVolume(event)">
        <rect x="10" y="10" width="180" height="10" style="fill: #ccc;" />
        <path id="volumePath" d="M20 15 L200 15" style="stroke: black; stroke-width: 8px;" />
    </svg>

    <script>
        let audio = document.getElementById('player');
        let playButton = document.getElementById('playButton');

        function toggleAudio() {
            if (audio.paused || audio.ended) {
                audio.play();
                playButton.textContent = 'pause';
            } else {
                audio.pause();
                playButton.textContent = 'play_arrow';
            }
        }

        function changeVolume(event) {
            const volumePath = document.getElementById('volumePath');
            const rect = event.target.getBoundingClientRect();
            const mouseX = event.clientX - rect.left;
            const volume = mouseX / 180; // Calculem el volum basat en la posició de l'scroll
            volumePath.setAttribute('d', `M20 15 L${20 + volume * 180} 15`); // Actualitzem el path de l'scroll

            audio.volume = volume; // Actualitzem el volum de l'àudio
        }
    </script>
</body>

</html>